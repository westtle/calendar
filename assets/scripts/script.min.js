let fullDate=new Date;const todaysFullDate=new Date,todaysDay=todaysFullDate.toLocaleString("en-us",{weekday:"long"}),currentDayContainer=document.querySelector(".current-day_"),currentMYContainer=document.querySelector(".current-m-y_"),allDatesContainer=document.querySelector("._days"),previousButton=document.querySelector(".previous_"),nextButton=document.querySelector(".next_");function generateCalendar(){let e=fullDate.getDate(),t=fullDate.getMonth(),n=fullDate.getFullYear(),a=new Date(n,t+1,0).getDate(),r=new Date(n,t,a).getDay(),l=new Date(n,t,1).getDay(),o=7-r-1;currentDayContainer.innerText=`${fullDate.toString()==todaysFullDate.toString()?todaysDay:""}`,currentMYContainer.innerText=fullDate.toLocaleString("en-us",{month:"long",year:"numeric"}),currentMYContainer.setAttribute("datetime",`${n}-${t+1}`),allDatesContainer.innerHTML="";for(let u=l;u>0;u--){let i=g(new Date(n,t,0).getDate()-u+1,!1);i.setAttribute("datetime",`${0==t?n-1:n}-${0==t?12:t}-${i.innerText}`),allDatesContainer.append(i)}for(let s=1;s<=a;s++){let d=g(s);d.setAttribute("datetime",`${n}-${t+1}-${s}`),fullDate.toString()==todaysFullDate.toString()&&s==e&&(d.dataset.currentDay="true"),allDatesContainer.append(d)}for(let D=1;D<=o;D++){let c=g(D,!1,!0);c.setAttribute("datetime",`${11==t?n+1:n}-${11==t?1:t+2}-${c.innerText}`),allDatesContainer.append(c)}function g(e,a=!0,r=!1){var l,o;let u=document.createElement("time");return u.innerText=e,a||(u.dataset.inOtherMonth="true"),r||(l=e,o=a,0==new Date(n,o?t:t-1,l).getDay()&&(u.dataset.day="sunday")),u}!function e(){let t=getComputedStyle(allDatesContainer).getPropertyValue("grid-template-rows").split(" ").length;if(t>5){let n=allDatesContainer.querySelectorAll("time"),a=[],r=[],l=[],o=n[27];for(let u=28;u<=34;u++)a.push(n[u]);for(let i=35;i<42;i++)r.push(n[i]);r.forEach((e,t)=>{e.innerText>=30&&l.push(e),e.remove()}),l.reverse().forEach((e,t)=>{let n=document.createElement("span");n.innerText="/",n.classList.add("slash_");let r=document.createElement("span");r.dataset.doubleDates="true",l.length>1&&r.append(a[1==t?0:1]),1==l.length&&r.append(a[t]),r.append(n),r.append(e),o.parentNode.insertBefore(r,o.nextSibling)})}}()}previousButton.addEventListener("click",()=>{fullDate.setMonth(fullDate.getMonth()-1),generateCalendar()}),nextButton.addEventListener("click",()=>{fullDate.setMonth(fullDate.getMonth()+1),generateCalendar()}),document.addEventListener("DOMContentLoaded",()=>generateCalendar());